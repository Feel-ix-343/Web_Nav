"use strict";(self.webpackChunkWeb_nav_Extension=self.webpackChunkWeb_nav_Extension||[]).push([[266,348],{266:(e,t,n)=>{const r=Symbol("Comlink.proxy"),a=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),i=e=>"object"==typeof e&&null!==e||"function"==typeof e,c=new Map([["proxy",{canHandle:e=>i(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return l(e,t),[n,[n]]},deserialize:e=>(e.start(),f(e,[],undefined))}],["throw",{canHandle:e=>i(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function l(e,t=self){t.addEventListener("message",(function n(a){if(!a||!a.data)return;const{id:o,type:i,path:c}=Object.assign({path:[]},a.data),_=(a.data.argumentList||[]).map(h);let f;try{const t=c.slice(0,-1).reduce(((e,t)=>e[t]),e),n=c.reduce(((e,t)=>e[t]),e);switch(i){case"GET":f=n;break;case"SET":t[c.slice(-1)[0]]=h(a.data.value),f=!0;break;case"APPLY":f=n.apply(t,_);break;case"CONSTRUCT":f=function(e){return Object.assign(e,{[r]:!0})}(new n(..._));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;l(e,n),f=function(e,t){return g.set(e,t),e}(t,[t])}break;case"RELEASE":f=void 0;break;default:return}}catch(e){f={value:e,[s]:0}}Promise.resolve(f).catch((e=>({value:e,[s]:0}))).then((e=>{const[r,a]=p(e);t.postMessage(Object.assign(Object.assign({},r),{id:o}),a),"RELEASE"===i&&(t.removeEventListener("message",n),u(t))}))})),t.start&&t.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function _(e){if(e)throw new Error("Proxy has been released and is not useable")}function f(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(n,a){if(_(r),a===o)return()=>b(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{u(e),r=!0}));if("then"===a){if(0===t.length)return{then:()=>s};const n=b(e,{type:"GET",path:t.map((e=>e.toString()))}).then(h);return n.then.bind(n)}return f(e,[...t,a])},set(n,a,o){_(r);const[s,i]=p(o);return b(e,{type:"SET",path:[...t,a].map((e=>e.toString())),value:s},i).then(h)},apply(n,o,s){_(r);const i=t[t.length-1];if(i===a)return b(e,{type:"ENDPOINT"}).then(h);if("bind"===i)return f(e,t.slice(0,-1));const[c,l]=d(s);return b(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:c},l).then(h)},construct(n,a){_(r);const[o,s]=d(a);return b(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:o},s).then(h)}});return s}function d(e){const t=e.map(p);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const g=new WeakMap;function p(e){for(const[t,n]of c)if(n.canHandle(e)){const[r,a]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},a]}return[{type:"RAW",value:e},g.get(e)||[]]}function h(e){switch(e.type){case"HANDLER":return c.get(e.name).deserialize(e.value);case"RAW":return e.value}}function b(e,t,n){return new Promise((r=>{const a=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===a&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),n)}))}let m;const w=new Array(32).fill(void 0);w.push(void 0,null,!0,!1);let y=w.length;function E(e){const t=function(e){return w[e]}(e);return function(e){e<36||(w[e]=y,y=e)}(e),t}function v(e){y===w.length&&w.push(w.length+1);const t=y;return y=w[t],w[t]=e,t}let k;function S(){return k.buffer!==m.memory.buffer&&(k=new Uint8Array(m.memory.buffer)),k}new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode();let A=0;const L=new TextEncoder("utf-8");function C(e,t,n){if(void 0===n){const n=L.encode(e),r=t(n.length);return S().subarray(r,r+n.length).set(n),A=n.length,r}let r=e.length,a=t(r);const o=S();let s=0;for(;s<r;s++){const t=e.charCodeAt(s);if(t>127)break;o[a+s]=t}if(s!==r){0!==s&&(e=e.slice(s)),a=n(a,r,r=s+3*e.length);const t=function(e,t){const n=L.encode(e);return t.set(n),{read:e.length,written:n.length}}(e,S().subarray(a+s,a+r));s+=t.written}return A=s,a}let T,O;function P(){return T.buffer!==m.memory.buffer&&(T=new Int32Array(m.memory.buffer)),T}class z{static __wrap(e){const t=Object.create(z.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();m.__wbg_webanalyzation_free(e)}constructor(e){const t=function(e,t){const n=t(4*e.length),r=(O.buffer!==m.memory.buffer&&(O=new Uint32Array(m.memory.buffer)),O);for(let t=0;t<e.length;t++)r[n/4+t]=v(e[t]);return A=e.length,n}(e,m.__wbindgen_malloc),n=A,r=m.webanalyzation_new(t,n);return z.__wrap(r)}get_search_results(e){try{const r=m.__wbindgen_add_to_stack_pointer(-16),a=C(e,m.__wbindgen_malloc,m.__wbindgen_realloc),o=A;m.webanalyzation_get_search_results(r,this.ptr,a,o);var t=P()[r/4+0],n=P()[r/4+1];if(P()[r/4+2])throw E(n);return E(t)}finally{m.__wbindgen_add_to_stack_pointer(16)}}get_graph(){try{const n=m.__wbindgen_add_to_stack_pointer(-16);m.webanalyzation_get_graph(n,this.ptr);var e=P()[n/4+0],t=P()[n/4+1];if(P()[n/4+2])throw E(t);return E(e)}finally{m.__wbindgen_add_to_stack_pointer(16)}}get_edges(e,t,n){try{const o=m.__wbindgen_add_to_stack_pointer(-16),s=C(e,m.__wbindgen_malloc,m.__wbindgen_realloc),i=A,c=C(t,m.__wbindgen_malloc,m.__wbindgen_realloc),l=A;m.webanalyzation_get_edges(o,this.ptr,s,i,c,l,n);var r=P()[o/4+0],a=P()[o/4+1];if(P()[o/4+2])throw E(a);return E(r)}finally{m.__wbindgen_add_to_stack_pointer(16)}}}l({init:async function(e){return new z(e)},search:function(e,t){console.log("Searching");const n=performance.now(),r=t.get_search_results(e),a=performance.now();return console.log(`Search took ${a-n} milliseconds.`),r},getEdges:async function(e,t,n,r){return r.get_edges(e,t,n)}})}}]);